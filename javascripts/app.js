!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var e={},n={},r=function(t,e){return{}.hasOwnProperty.call(t,e)},i=function(t,e){var n,r,i=[];n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var o=0,s=n.length;s>o;o++)r=n[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},o=function(t){return t.split("/").slice(0,-1).join("/")},s=function(e){return function(n){var r=o(e),s=i(r,n);return t.require(s,e)}},l=function(t,e){var r={id:t,exports:{}};return n[t]=r,e(r.exports,s(t),r),r.exports},a=function(t,o){var s=i(t,".");if(null==o&&(o="/"),r(n,s))return n[s].exports;if(r(e,s))return l(s,e[s]);var a=i(s,"./index");if(r(n,a))return n[a].exports;if(r(e,a))return l(a,e[a]);throw new Error('Cannot find module "'+t+'" from '+'"'+o+'"')},u=function(t,n){if("object"==typeof t)for(var i in t)r(t,i)&&(e[i]=t[i]);else e[t]=n},c=function(){var t=[];for(var n in e)r(e,n)&&t.push(n);return t};t.require=a,t.require.define=u,t.require.register=u,t.require.list=c,t.require.brunch=!0}}(),require.register("application",function(t,e,n){var r,i,o,s=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("mediator"),n.exports=r=function(t){function e(){return this.handleAjaxError=s(this.handleAjaxError,this),o=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.title="Chicago Food Inspection",e.prototype.initMediator=function(){return i.searchResults=void 0,e.__super__.initMediator.apply(this,arguments)},e.prototype.start=function(){return e.__super__.start.apply(this,arguments),$(document).ajaxError(this.handleAjaxError)},e.prototype.handleAjaxError=function(){return Chaplin.helpers.redirectTo("home#error")},e}(Chaplin.Application)}),require.register("controllers/base/controller",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/site-view"),n.exports=r=function(t){function e(){return o=e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.beforeAction=function(){return this.compose("site",i)},e}(Chaplin.Controller)}),require.register("controllers/facility-controller",function(t,e,n){var r,i,o,s,l,a,u,c={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=e("controllers/base/controller"),o=e("models/facility-inspections"),a=e("views/loading-indicator-view"),l=e("views/facility-view"),s=e("views/facility-inspections-view"),n.exports=i=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.show=function(t){var e=this;return this.loadingIndicatorView=new a({autoRender:!0,region:"main"}),this.facilityInspections=new o({license:t.license}),this.facilityInspections.fetch({success:function(){return e.loadingIndicatorView.dispose(),e.facility=e.facilityInspections.first(),e.facilityView=new l({model:e.facility,region:"main"}),e.facilityInspectionView=new s({collection:e.facilityInspections,region:"facilityInspections"})}}),"undefined"!=typeof analytics&&null!==analytics?analytics.page("Facility",{license:t.license}):void 0},e}(r)}),require.register("controllers/home-controller",function(t,e,n){var r,i,o,s,l,a,u,c,h={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=e("mediator"),i=e("controllers/base/controller"),l=e("views/home-view"),r=e("views/about-view"),o=e("views/error-view"),a=e("views/search-field-view"),n.exports=s=function(t){function e(){return c=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.compose("searchField",a,{region:"searchField"})},e.prototype.show=function(){return this.view=new l({region:"main"}),"undefined"!=typeof analytics&&null!==analytics?analytics.page("Home"):void 0},e.prototype.about=function(){return this.view=new r({region:"main"}),"undefined"!=typeof analytics&&null!==analytics?analytics.page("About"):void 0},e.prototype.error=function(){return this.view=new o({region:"main"}),"undefined"!=typeof analytics&&null!==analytics?analytics.page("Error"):void 0},e}(i)}),require.register("controllers/search-controller",function(t,e,n){var r,i,o,s,l,a,u,c={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=e("controllers/base/controller"),a=e("mediator"),i=e("models/inspections"),l=e("views/search-view"),s=e("views/search-field-view"),n.exports=o=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.publish=a.publish,e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.compose("searchField",s,{region:"searchField"}),this.collection=new i,this.view=new l({region:"main",collection:this.collection})},e.prototype.search=function(t){return t.query?(this.collection.search(t.query),a.publish("search",this.collection),"undefined"!=typeof analytics&&null!==analytics?analytics.page("Text Search",{term:t.query}):void 0):this.redirectTo("home#show")},e.prototype.geosearch=function(t){var e,n,r,i,o=this;return this.collection.beginSync(),this.view.toggleLoadingIndicator(),"geolocation"in navigator?(r=+(null!=(i=t.radius)?i.split("-mile")[0]:void 0),_(r).isFinite()?(n=function(e){var n,i;return n=e.coords.latitude,i=e.coords.longitude,o.collection.geosearch(n,i,r,{query:t.query}),a.publish("search",o.collection),"undefined"!=typeof analytics&&null!==analytics?analytics.page("Geo Search",{radius:r,term:t.query}):void 0},e=function(){},navigator.geolocation.getCurrentPosition(n,e)):(this.redirectTo("home#show"),void 0)):(this.redirectTo("home#show"),void 0)},e}(r)}),require.register("initialize",function(t,e){var n,r;n=e("application"),r=e("routes"),$(function(){return window.app=new n({title:"Chicago Food Inspection",controllerSuffix:"-controller",pushState:!1,routes:r})})}),require.register("lib/geolocation",function(t,e,n){var r,i,o,s;i=3959,o=function(){function t(){}return t.radiansToDegrees=function(t){return t/(Math.PI/180)},t.degreesToRadians=function(t){return t*(Math.PI/180)},t}(),r=function(){function t(t,e,n){this.centerLat=t,this.centerLng=e,this.radius=n,this.maxLat=t+o.radiansToDegrees(n/i),this.minLat=t-o.radiansToDegrees(n/i),this.maxLng=e+o.radiansToDegrees(n/i/Math.cos(o.degreesToRadians(t))),this.minLng=e-o.radiansToDegrees(n/i/Math.cos(o.degreesToRadians(t)))}return t.prototype.toQuery=function(){var t,e;return t="(latitude<="+this.maxLat+" AND latitude>="+this.minLat+")",e="(longitude<="+this.maxLng+" AND longitude>="+this.minLng+")",""+t+" AND "+e},t}(),s=function(){function t(){}return t.boundingRect=function(t,e,n){return new r(t,e,n)},t}(),n.exports=s}),require.register("lib/utils",function(t,e,n){var r;r=Chaplin.utils.beget(Chaplin.utils),"function"==typeof Object.seal&&Object.seal(r),n.exports=r}),require.register("lib/view-helper",function(){var t,e=[].slice;t=function(t,e){return Handlebars.registerHelper(t,e)},t("with",function(t,e){return!t||Handlebars.Utils.isEmpty(t)?e.inverse(this):e.fn(t)}),t("without",function(t,e){var n;return n=e.inverse,e.inverse=e.fn,e.fn=n,Handlebars.helpers["with"].call(this,t,e)}),t("url",function(){var t,n,r,i;return r=arguments[0],n=3<=arguments.length?e.call(arguments,1,i=arguments.length-1):(i=1,[]),t=arguments[i++],Chaplin.helpers.reverse(r,n)}),t("linkTo",function(t,e){return new Handlebars.SafeString("<a href='"+t+"'>"+e+"</a>")}),t("fromNow",function(t){return moment(t).fromNow()}),t("mmddyy",function(t){return moment(t).format("M/D/YYYY")}),t("icon",function(t){return new Handlebars.SafeString("<i class='fa "+t+"'></i>")})}),require.register("mediator",function(t,e,n){var r;r=n.exports=Chaplin.mediator,r.subscribe("search",function(t){return r.searchResults=t})}),require.register("models/base/collection",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("./model"),n.exports=r=function(t){function e(){return o=e.__super__.constructor.apply(this,arguments)}return l(e,t),_(e.prototype).extend(Chaplin.SyncMachine),e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.on("request",this.beginSync),this.on("sync",this.finishSync),this.on("error",this.unsync)},e}(Chaplin.Collection)}),require.register("models/base/model",function(t,e,n){var r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n.exports=r=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return s(e,t),_(e.prototype).extend(Chaplin.SyncMachine),e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.on("request",this.beginSync),this.on("sync",this.finishSync),this.on("error",this.unsync)},e}(Chaplin.Model)}),require.register("models/facility-inspections",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=e("models/base/collection"),o=e("models/inspection"),n.exports=i=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.license=t.license}return l(e,t),e.prototype.model=o,e.prototype.url=function(){return"http://data.cityofchicago.org/resource/4ijn-s7e5.json?$where=license_="+this.license},e}(r)}),require.register("models/inspection",function(t,e,n){var r,i,o,s,l={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=e("models/base/model"),r="AIzaSyAsTTQbxN97tw3vWmz5U54Z73begQqA-iE",n.exports=i=function(t){function e(){return s=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.idAttribute="inspection_id",e.prototype.friendlyInspectionDate=function(){var t,e;return e=this.get("inspection_date"),t=moment(e).fromNow()},e.prototype.formattedViolations=function(){var t;if(this.get("violations"))return t=this.get("violations"),t=t.replace(/\|/g,"<br/><br/>"),t=t.replace(/Comments:/g,"<br/>Comments:")},e.prototype.resultCSSClass=function(){var t,e;return e=this.get("results").toLowerCase(),t="fail"===e?"danger":"pass"===e?"success":"pass w/ conditions"===e?"warning":"default"},e.prototype.resultIcon=function(){var t,e;return e=this.get("results").toLowerCase(),"fail"===e?t="fa-exclamation-triangle text-danger":"pass"===e?t="fa-check-circle text-success":"pass w/ conditions"===e?t="fa-exclamation-circle text-warning":"out of business"===e&&(t="fa-times-circle text-muted"),t},e.prototype.fullAddress=function(){var t,e,n,r;return t=$.trim(this.get("address")),e=$.trim(this.get("city")),n=$.trim(this.get("state")),r=$.trim(this.get("zip")),""+t+", "+e+", "+n+" "+r},e.prototype.mapURL=function(t,e){return null==t&&(t=380),null==e&&(e=380),encodeURI("http://maps.googleapis.com/maps/api/staticmap?zoom=16&size="+t+"x"+e+"&sensor=false&markers=size:mid|color:red|"+this.fullAddress()+"&key="+r)},e.prototype.streetViewURL=function(t,e){return null==t&&(t=380),null==e&&(e=380),encodeURI("http://maps.googleapis.com/maps/api/streetview?size="+t+"x"+e+"&location="+this.fullAddress()+"&fov=90&sensor=false&key="+r)},e}(o)}),require.register("models/inspections",function(t,e,n){var r,i,o,s,l,a,u,c={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=e("lib/geolocation"),r=e("./base/collection"),l=e("models/inspection"),o=20,i=["dba_name","aka_name","address","city","state","zip","results","inspection_date","inspection_id","inspection_type","license_"],n.exports=a=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.model=l,e.prototype.url="http://data.cityofchicago.org/resource/cnj3-hgbt.json",e.prototype.limit=o,e.prototype.columns=function(){return i.join(",")}(),e.prototype.getDefaultData=function(){return{$limit:this.limit,$select:this.columns}},e.prototype.responseLength=0,e.prototype.searchType=null,e.prototype.searchString=null,e.prototype.searchBoundingRect=null,e.prototype.searchRadius=null,e.prototype.parse=function(t){var e,n,r,i,o;return this.responseLength=this.responseLength+t.length,t.length<this.limit&&this.trigger("fetchedAllSearchResults"),r=_.groupBy(t,"license_"),o=_.map(r,function(t){return t[0]}),n=this.toJSON(),e=_.map(n,function(t){return t.license_}),i=_.reject(o,function(t){return _.contains(e,t.license_)}),_.sortBy(i,"inspection_date").reverse()},e.prototype.geosearch=function(t,e,n,r){var i;return null==t&&(t=this.searchBoundingRect.centerLat),null==e&&(e=this.searchBoundingRect.centerLng),null==n&&(n=this.searchBoundingRect.radius),null==r&&(r={}),i=s.boundingRect(t,e,n),this.searchType="geo",this.searchBoundingRect=i,this.searchRadius=n,r.data={$where:i.toQuery()},null!=r.query?(r.data.$q=r.query,this._setSearchString(r.query),delete r.query):null!=this.searchString&&(r.data.$q=this.searchString),this._fetchSearch(r)},e.prototype.search=function(t,e){return null==t&&(t=this.searchString),null==e&&(e={}),/^\d{5}$/.test(t)?this._searchByZip(t,e):this._searchByText(t,e),this._setSearchString(t)},e.prototype.searchByLicense=function(t,e){return null==e&&(e={}),this.url=this.urlRoot+("&$where=license_="+t),this._fetchSearch(e)},e.prototype._searchByText=function(t,e){return null==e&&(e={}),e.data={$q:""+decodeURI(t)},this._fetchSearch(e),this.searchType="text"},e.prototype._searchByZip=function(t,e){return null==e&&(e={}),e.data={zip:""+t},this._fetchSearch(e),this.searchType="zip"},e.prototype._fetchSearch=function(t){return null==t&&(t={}),this.responseLength>=this.limit&&(t.data=t.data||{},t.data.$offset=this.responseLength,t.remove=!1),t.data=_.extend(this.getDefaultData(),t.data),this.fetch(t)},e.prototype._setSearchString=function(t){return this.searchString=decodeURI(t)},e}(r)}),require.register("routes",function(t,e,n){n.exports=function(t){return t("","home#show"),t("about","home#about"),t("error","home#error"),t("search/:query","search#search",{name:"search"}),t("search/within/:radius","search#geosearch",{name:"geosearch",constraints:{radius:/^[0-9]/}}),t("search/:query/within/:radius","search#geosearch",{name:"keywordGeosearch",constraints:{radius:/^[0-9]/}}),t("facility/:license","facility#show")}}),require.register("views/about-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.template=e("./templates/about"),n.prototype.getTemplateData=function(){return{year:moment().format("YYYY")}},n}(i)}),require.register("views/base/collection-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("./view"),n.exports=r=function(t){function e(){return o=e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.getTemplateFunction=i.prototype.getTemplateFunction,e}(Chaplin.CollectionView)}),require.register("views/base/view",function(t,e,n){var r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e("lib/view-helper"),n.exports=r=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.optionNames=Chaplin.View.prototype.optionNames.concat(["template"]),e.prototype.getTemplateFunction=function(){return this.template},e}(Chaplin.View)}),require.register("views/error-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.template=e("./templates/error"),n}(i)}),require.register("views/facility-inspection-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.noWrap=!0,n.prototype.template=e("./templates/facility-inspection"),n.prototype.getTemplateData=function(){var t;return t=this.model.attributes,t.friendlyInspectionDate=this.model.friendlyInspectionDate(),t.resultClass=this.model.resultCSSClass(),t.resultIcon=this.model.resultIcon(),t.violations=this.model.formattedViolations(),t},n}(i)}),require.register("views/facility-inspections-view",function(t,e,n){var r,i,o,s,l={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=e("views/base/collection-view"),i=e("views/facility-inspection-view"),n.exports=o=function(t){function n(){return s=n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.autoRender=!0,n.prototype.template=e("./templates/facility-inspections"),n.prototype.itemView=i,n.prototype.listSelector=".facility-inspections-list",n}(r)}),require.register("views/facility-view",function(t,e,n){var r,i,o,s,l={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),o=e("mediator"),n.exports=r=function(t){function n(){return s=n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.autoRender=!0,n.prototype.template=e("./templates/facility"),n.prototype.regions={facilityInspections:"#facility-inspections"},n.prototype.getTemplateData=function(){var t,e,n,r,i;return r=380,n=220,e="linear-gradient(rgba(255,255,255,.95),rgba(255,255,255,0.7) 100%)",t=this.model.attributes,t.resultClass=this.model.resultCSSClass(),t.resultIcon=this.model.resultIcon(),t.fullAddress=this.model.fullAddress(),t.mapURL=this.model.mapURL(r,n),t.streetViewURL=this.model.streetViewURL(640,371),t.headerGradient=e,i=o.searchResults,i&&(t.searchType=i.searchType,t.searchRadius=i.searchRadius,t.searchString=i.searchString),t},n}(i)}),require.register("views/home-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.template=e("./templates/home"),n}(i)}),require.register("views/loading-indicator-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.noWrap=!0,n.prototype.template=e("./templates/loading-indicator"),n}(i)}),require.register("views/search-details-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.noWrap=!0,n.prototype.template=e("./templates/search-details"),n.prototype.getTemplateData=function(){var t,e,n,r,i;return i=this.collection.searchType,r=this.collection.searchString,e=this.collection.searchRadius,"zip"===i&&(n="inspections in "+r),"text"===i&&(n='results for "'+r+'"'),"geo"===i&&(n=r?'results for "'+r+'" within '+e+" mile(s)":"results within "+e+" mile(s)"),t={length:this.collection.length,searchString:this.collection.searchString,searchType:this.collection.searchType,searchResultString:n}},n}(i)}),require.register("views/search-field-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.noWrap=!0,n.prototype.template=e("./templates/search-field"),n.prototype.events={"submit #search-form":"search","click .search-location":"geosearch","click .search-anywhere":"search"},n.prototype.listen={"search mediator":"updateSearchField"},n.prototype.getTemplateData=function(){return{geolocation:"geolocation"in navigator}},n.prototype.updateSearchField=function(t){return this.$("#search-field").val(t.searchString)},n.prototype.search=function(t){var e;return null!=t&&t.preventDefault(),e=this.getQuery(),this.getSearchField().blur(),Chaplin.helpers.redirectTo("search",{query:e})},n.prototype.geosearch=function(t){var e,n,r,i;return null!=t&&t.preventDefault(),e=$(t.target),r=e.data("radius"),n=this.getQuery(),i=n?"keywordGeosearch":"geosearch",Chaplin.helpers.redirectTo(i,{radius:r,query:n})},n.prototype.getSearchField=function(){return this.$("#search-field")},n.prototype.getQuery=function(){var t;return t=this.getSearchField(),encodeURI($.trim(t.val()))},n}(i)}),require.register("views/search-get-more-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.noWrap=!0,n.prototype.template=e("./templates/search-get-more"),n.prototype.events={click:"fetchMoreResults"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.listenTo(this.collection,"syncing",this.showLoading),this.listenTo(this.collection,"synced",this.hideLoading)},n.prototype.fetchMoreResults=function(){return"geo"===this.collection.searchType?this.collection.geosearch():this.collection.search()},n.prototype.showLoading=function(){return this.$(".search-results-more-text").addClass("hide"),this.$(".search-results-more-loading").removeClass("hide")},n.prototype.hideLoading=function(){return this.$(".search-results-more-text").removeClass("hide"),this.$(".search-results-more-loading").addClass("hide")},n}(i)}),require.register("views/search-result-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.autoRender=!0,n.prototype.noWrap=!0,n.prototype.template=e("./templates/search-result"),n.prototype.getTemplateData=function(){var t;return t=this.model.attributes,t.friendlyInspectionDate=this.model.friendlyInspectionDate(),t.resultClass=this.model.resultCSSClass(),t.resultIcon=this.model.resultIcon(),t.fullAddress=this.model.fullAddress(),t},n}(i)}),require.register("views/search-view",function(t,e,n){var r,i,o,s,l,a,u=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=e("views/base/collection-view"),s=e("views/search-result-view"),i=e("views/search-details-view"),o=e("views/search-get-more-view"),n.exports=l=function(t){function n(){return this.showLoadingTimeWarning=u(this.showLoadingTimeWarning,this),a=n.__super__.constructor.apply(this,arguments)}return h(n,t),n.prototype.template=e("./templates/search"),n.prototype.itemView=s,n.prototype.listSelector=".search-results-list",n.prototype.loadingSelector=".search-results-loading",n.prototype.fallbackSelector=".search-results-none",n.prototype.useCssAnimation=!0,n.prototype.animationStartClass="fade",n.prototype.animationEndClass="in",n.prototype.regions={searchDetails:".search-details-container",searchGetMore:".search-results-more-container"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.loadingTimeWarningTimeout=window.setTimeout(this.showLoadingTimeWarning,3e3),this.listenTo(this.collection,"fetchedAllSearchResults",this.hideGetMoreView)},n.prototype.itemsReset=function(){return n.__super__.itemsReset.apply(this,arguments),this.renderResultDetails()},n.prototype.renderResultDetails=function(){var t,e;return this.collection.length&&(e=new i({region:"searchDetails",collection:this.collection}),this.subview("searchDetails",e)),this.collection.responseLength>=this.collection.limit?(t=new o({region:"searchGetMore",collection:this.collection}),this.subview("searchGetMore",t)):void 0},n.prototype.hideGetMoreView=function(){return this.removeSubview("searchGetMore")},n.prototype.showLoadingTimeWarning=function(){return this.disposed?void 0:this.$(".search-results-loading-time-warning").addClass("in")},n.prototype.dispose=function(){return n.__super__.dispose.apply(this,arguments),window.clearTimeout(this.loadingTimeWarningTimeout)},n}(r)}),require.register("views/site-view",function(t,e,n){var r,i,o,s={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=e("views/base/view"),n.exports=r=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return l(n,t),n.prototype.container="body",n.prototype.id="site-container",n.prototype.regions={searchField:".search-field",main:".main-content"},n.prototype.template=e("./templates/site"),n}(i)}),require.register("views/templates/about",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l,a="",u=n.helperMissing,c=this.escapeExpression,h="function";return a+='<div class="container"><div class="row"><div class="col-sm-10 col-sm-offset-1"><h4>About</h4><p>This app allows you to search the results of inspections performed by the Chicago Department of Public Health\'s ',l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://www.cityofchicago.org/city/en/depts/cdph/provdrs/environ_health/svcs/food_protection_program.html","Food Protection Program",l):u.call(e,"linkTo","http://www.cityofchicago.org/city/en/depts/cdph/provdrs/environ_health/svcs/food_protection_program.html","Food Protection Program",l)))+".</p><p>The results of these inspections are published by the City of Chicago through the ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"https://data.cityofchicago.org/","City of Chicago Data Portal",l):u.call(e,"linkTo","https://data.cityofchicago.org/","City of Chicago Data Portal",l)))+" and are available ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"https://data.cityofchicago.org/Health-Human-Services/Food-Inspections/4ijn-s7e5","here",l):u.call(e,"linkTo","https://data.cityofchicago.org/Health-Human-Services/Food-Inspections/4ijn-s7e5","here",l)))+'.</p><p><span class="label label-warning">Disclaimer</span><br /> This app was written as a demonstration. The data backing this app is controlled and delivered by the City of Chicago. The availability and validity of any records are not guaranteed.</p><h4>Technical Info</h4><p>This app was written in ',l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://coffeescript.org/","CoffeeScript",l):u.call(e,"linkTo","http://coffeescript.org/","CoffeeScript",l)))+" using the ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://chaplinjs.org/","Chaplin framework",l):u.call(e,"linkTo","http://chaplinjs.org/","Chaplin framework",l)))+", and built using ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://brunch.io/","Brunch",l):u.call(e,"linkTo","http://brunch.io/","Brunch",l)))+".  Templates are pre-compiled using ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://handlebarsjs.com/","Handlebars",l):u.call(e,"linkTo","http://handlebarsjs.com/","Handlebars",l)))+" and are written in ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://emblemjs.com/","Emblem",l):u.call(e,"linkTo","http://emblemjs.com/","Emblem",l)))+".</p><p>",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://getbootstrap.com/","Bootstrap",l):u.call(e,"linkTo","http://getbootstrap.com/","Bootstrap",l)))+" (",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"https://github.com/jlong/sass-bootstrap","SASS port",l):u.call(e,"linkTo","https://github.com/jlong/sass-bootstrap","SASS port",l)))+") was used for rapid styling and ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"http://fontawesome.io/","Font Awesome",l):u.call(e,"linkTo","http://fontawesome.io/","Font Awesome",l)))+" for the vector icons.</p><p>Source code is available on ",l={hash:{},data:i},a+=c((o=n.linkTo||e.linkTo,o?o.call(e,"https://github.com/alexraginskiy/chicago-food-inspections","GitHub",l):u.call(e,"linkTo","https://github.com/alexraginskiy/chicago-food-inspections","GitHub",l)))+'.</p><a data-toggle="collapse" href="#license-info"><h4>License</h4></a><div id="license-info" class="collapse"><p>Copyright (c)  ',(s=n.year)?s=s.call(e,{hash:{},data:i}):(s=e.year,s=typeof s===h?s.apply(e):s),a+=c(s)+' Alex Raginskiy</p><p>Permission is hereby granted, free of charge, to any person obtaining a copyof this software and associated documentation files (the "Software"), to dealin the Software without restriction, including without limitation the rightsto use, copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom the Software isfurnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included inall copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS ORIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THEAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHERLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS INTHE SOFTWARE.</p><a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/StillImage" property="dct:title" rel="dct:type">Chicago Food Inspections Logo</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Alex Raginskiy</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</div></div></div></div>'
})}),require.register("views/templates/error",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l="",a=n.helperMissing,u=this.escapeExpression;return l+='<div class="container"><div class="row"><div class="col-sm-6 col-sm-offset-3 text-center"><h1>',s={hash:{},data:i},l+=u((o=n.icon||e.icon,o?o.call(e,"fa-3x fa-warning text-danger",s):a.call(e,"icon","fa-3x fa-warning text-danger",s)))+'</h1><p class="lead">The data backing this app is controlled and delivered by the City of Chicago, and may not be available at all times.</p><p class="lead">Please try again later.</p></div></div></div>'})}),require.register("views/templates/facility-inspection",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){function o(t,e){var r,i,o,s="";return s+='<a data-toggle="collapse" data-parent=".facility-inspections-list" href="#facility-inspection-',(r=n.inspection_id)?r=r.call(t,{hash:{},data:e}):(r=t.inspection_id,r=typeof r===h?r.apply(t):r),s+=p(r)+'"><div class="row"><div class="col-xs-6">',o={hash:{},data:e},s+=p((r=n.icon||t.icon,r?r.call(t,"fa-plus-circle fa-fw",o):f.call(t,"icon","fa-plus-circle fa-fw",o)))+" ",o={hash:{},data:e},s+=p((r=n.mmddyy||t.mmddyy,r?r.call(t,t.inspection_date,o):f.call(t,"mmddyy",t.inspection_date,o)))+'</div><div class="col-xs-6"><span class="pull-right label label-',(i=n.resultClass)?i=i.call(t,{hash:{},data:e}):(i=t.resultClass,i=typeof i===h?i.apply(t):i),s+=p(i)+'">',(i=n.results)?i=i.call(t,{hash:{},data:e}):(i=t.results,i=typeof i===h?i.apply(t):i),s+=p(i)+"</span></div></div></a>"}function s(t,e){var r,i,o,s="";return s+='<div class="row"><div class="col-xs-6">',o={hash:{},data:e},s+=p((r=n.icon||t.icon,r?r.call(t,"fa-fw",o):f.call(t,"icon","fa-fw",o)))+" ",o={hash:{},data:e},s+=p((r=n.mmddyy||t.mmddyy,r?r.call(t,t.inspection_date,o):f.call(t,"mmddyy",t.inspection_date,o)))+'</div><div class="col-xs-6"><span class="pull-right label label-',(i=n.resultClass)?i=i.call(t,{hash:{},data:e}):(i=t.resultClass,i=typeof i===h?i.apply(t):i),s+=p(i)+'">',(i=n.results)?i=i.call(t,{hash:{},data:e}):(i=t.results,i=typeof i===h?i.apply(t):i),s+=p(i)+"</span></div></div>"}function l(t,e){var r,i="";return i+='<div class="panel-collapse collapse" id="facility-inspection-',(r=n.inspection_id)?r=r.call(t,{hash:{},data:e}):(r=t.inspection_id,r=typeof r===h?r.apply(t):r),i+=p(r)+'"><div class="panel-body">',(r=n.violations)?r=r.call(t,{hash:{},data:e}):(r=t.violations,r=typeof r===h?r.apply(t):r),(r||0===r)&&(i+=r),i+="</div></div>"}function a(){var t="";return t}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var u,c="",h="function",p=this.escapeExpression,f=n.helperMissing,d=this;return c+='<div class="panel panel-',(u=n.resultClass)?u=u.call(e,{hash:{},data:i}):(u=e.resultClass,u=typeof u===h?u.apply(e):u),c+=p(u)+'"><div class="panel-heading"><h4 class="panel-title">',u=n["if"].call(e,e.violations,{hash:{},inverse:d.program(3,s,i),fn:d.program(1,o,i),data:i}),(u||0===u)&&(c+=u),c+="</h4></div>",u=n["if"].call(e,e.violations,{hash:{},inverse:d.program(7,a,i),fn:d.program(5,l,i),data:i}),(u||0===u)&&(c+=u),c+="</div>"})}),require.register("views/templates/facility-inspections",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{},'<h4>Inspections</h4><div class="facility-inspections-list panel-group"></div>'})}),require.register("views/templates/facility",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){function o(t,e){var r;return r=n["if"].call(t,t.searchRadius,{hash:{},inverse:y.program(4,l,e),fn:y.program(2,s,e),data:e}),r||0===r?r:""}function s(t,e){var r,i,o="";return o+='<a class="btn btn-default btn-sm" href="',i={hash:{},data:e},o+=m((r=n.url||t.url,r?r.call(t,"keywordGeosearch",t.searchString,t.searchRadius,i):g.call(t,"url","keywordGeosearch",t.searchString,t.searchRadius,i)))+'">',i={hash:{},data:e},o+=m((r=n.icon||t.icon,r?r.call(t,"fa-chevron-left",i):g.call(t,"icon","fa-chevron-left",i)))+" Search</a>"}function l(t,e){var r,i,o="";return o+='<a class="btn btn-default btn-sm" href="',i={hash:{},data:e},o+=m((r=n.url||t.url,r?r.call(t,"search",t.searchString,i):g.call(t,"url","search",t.searchString,i)))+'">',i={hash:{},data:e},o+=m((r=n.icon||t.icon,r?r.call(t,"fa-chevron-left",i):g.call(t,"icon","fa-chevron-left",i)))+" Search</a>"}function a(t,e){var r;return r=n["if"].call(t,t.searchRadius,{hash:{},inverse:y.program(9,c,e),fn:y.program(7,u,e),data:e}),r||0===r?r:""}function u(t,e){var r,i,o="";return o+='<a class="btn btn-default btn-sm" href="',i={hash:{},data:e},o+=m((r=n.url||t.url,r?r.call(t,"geosearch",t.searchRadius,i):g.call(t,"url","geosearch",t.searchRadius,i)))+'">',i={hash:{},data:e},o+=m((r=n.icon||t.icon,r?r.call(t,"fa-chevron-left",i):g.call(t,"icon","fa-chevron-left",i)))+" Search</a>"}function c(t,e){var r,i,o="";return o+='<a class="btn btn-default btn-sm" href="',i={hash:{},data:e},o+=m((r=n.url||t.url,r?r.call(t,"home#show",i):g.call(t,"url","home#show",i)))+'">',i={hash:{},data:e},o+=m((r=n.icon||t.icon,r?r.call(t,"fa-chevron-left",i):g.call(t,"icon","fa-chevron-left",i)))+" Search</a>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var h,p,f,d="",g=n.helperMissing,m=this.escapeExpression,y=this,v="function";return d+='<div class="back-to-search-container"><div class="container">',h=n["if"].call(e,e.searchString,{hash:{},inverse:y.program(6,a,i),fn:y.program(1,o,i),data:i}),(h||0===h)&&(d+=h),d+='</div></div><div class="facility-details" style="background-image: ',(h=n.headerGradient)?h=h.call(e,{hash:{},data:i}):(h=e.headerGradient,h=typeof h===v?h.apply(e):h),d+=m(h)+", url(",(h=n.streetViewURL)?h=h.call(e,{hash:{},data:i}):(h=e.streetViewURL,h=typeof h===v?h.apply(e):h),d+=m(h)+')"><div class="container"><div class="row"><div class="col-md-4"><h2 class="facility-details-heading">',(h=n.dba_name)?h=h.call(e,{hash:{},data:i}):(h=e.dba_name,h=typeof h===v?h.apply(e):h),d+=m(h)+'</h2><span class="label label-',(h=n.resultClass)?h=h.call(e,{hash:{},data:i}):(h=e.resultClass,h=typeof h===v?h.apply(e):h),d+=m(h)+'">',(h=n.results)?h=h.call(e,{hash:{},data:i}):(h=e.results,h=typeof h===v?h.apply(e):h),d+=m(h)+'</span><p class="facility-details-info">',(h=n.address)?h=h.call(e,{hash:{},data:i}):(h=e.address,h=typeof h===v?h.apply(e):h),d+=m(h)+"<br />",(h=n.city)?h=h.call(e,{hash:{},data:i}):(h=e.city,h=typeof h===v?h.apply(e):h),d+=m(h)+", ",(h=n.state)?h=h.call(e,{hash:{},data:i}):(h=e.state,h=typeof h===v?h.apply(e):h),d+=m(h)+" ",(h=n.zip)?h=h.call(e,{hash:{},data:i}):(h=e.zip,h=typeof h===v?h.apply(e):h),d+=m(h)+"<br /><small>Last inspected ",f={hash:{},data:i},d+=m((h=n.mmddyy||e.mmddyy,h?h.call(e,e.inspection_date,f):g.call(e,"mmddyy",e.inspection_date,f)))+"</small><br /><small>",(p=n.facility_type)?p=p.call(e,{hash:{},data:i}):(p=e.facility_type,p=typeof p===v?p.apply(e):p),d+=m(p)+" (License #: ",(p=n.license_)?p=p.call(e,{hash:{},data:i}):(p=e.license_,p=typeof p===v?p.apply(e):p),d+=m(p)+')</small></p></div><div class="clearfix visible-sm"></div><div class="col-md-4 col-sm-6 facility-details-map"><a href="http://maps.google.com/?q=',(p=n.fullAddress)?p=p.call(e,{hash:{},data:i}):(p=e.fullAddress,p=typeof p===v?p.apply(e):p),d+=m(p)+'"><img class="facility-details-map-image" src="',(p=n.mapURL)?p=p.call(e,{hash:{},data:i}):(p=e.mapURL,p=typeof p===v?p.apply(e):p),d+=m(p)+'" /></a></div><div class="col-md-4 col-sm-6 facility-details-map"><a href="http://maps.google.com/?q=',(p=n.fullAddress)?p=p.call(e,{hash:{},data:i}):(p=e.fullAddress,p=typeof p===v?p.apply(e):p),d+=m(p)+'"><img class="facility-details-map-image" src="',(p=n.streetViewURL)?p=p.call(e,{hash:{},data:i}):(p=e.streetViewURL,p=typeof p===v?p.apply(e):p),d+=m(p)+'" /></a></div></div></div></div><div class="container"><div id="facility-inspections"></div></div>'})}),require.register("views/templates/home",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l="",a=n.helperMissing,u=this.escapeExpression;return l+='<div class="container"><div class="text-center"><img class="logo-image" src="images/chicago_health_logo.png" /><p><a href="',s={hash:{},data:i},l+=u((o=n.url||e.url,o?o.call(e,"home#about",s):a.call(e,"url","home#about",s)))+'">About</a></p></div></div>'})}),require.register("views/templates/loading-indicator",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l="",a=n.helperMissing,u=this.escapeExpression;return l+='<div class="container loading-indicator">',s={hash:{},data:i},l+=u((o=n.icon||e.icon,o?o.call(e,"fa-cog fa-spin",s):a.call(e,"icon","fa-cog fa-spin",s)))+"</div>"})}),require.register("views/templates/search-details",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s="",l="function",a=this.escapeExpression;return s+='<div class="search-details"><strong>showing ',(o=n.searchResultString)?o=o.call(e,{hash:{},data:i}):(o=e.searchResultString,o=typeof o===l?o.apply(e):o),s+=a(o)+" </strong></div>"})}),require.register("views/templates/search-field",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){function o(t,e){var r,i,o="";return o+='<div class="input-group"><input id="search-field" class=" form-control" type="text" name="search" placeholder="Search by zipcode or business name" /><span class="input-group-btn"><button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">',i={hash:{},data:e},o+=c((r=n.icon||t.icon,r?r.call(t,"fa-map-marker",i):u.call(t,"icon","fa-map-marker",i)))+" ",i={hash:{},data:e},o+=c((r=n.icon||t.icon,r?r.call(t,"fa-caret-down",i):u.call(t,"icon","fa-caret-down",i)))+'</button><ul class="dropdown-menu pull-right" role="menu"><li class="dropdown-header">Search within...</li><li class="divider"></li><li><a class="search-anywhere" href="#">Anywhere</a></li><li><a class="search-location" href="#" data-radius="1-mile">1 mile</a></li><li><a class="search-location" href="#" data-radius="5-miles">5 miles</a></li></ul></span></div>'}function s(){return'<input id="search-field" class=" form-control" type="text" name="search" placeholder="Search by zipcode or business name" />'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var l,a="",u=n.helperMissing,c=this.escapeExpression,h=this;return a+='<div class="search-field-container"><form id="search-form"><div class="container"><div class="row"><div class="col-sm-6 col-sm-offset-3">',l=n["if"].call(e,e.geolocation,{hash:{},inverse:h.program(3,s,i),fn:h.program(1,o,i),data:i}),(l||0===l)&&(a+=l),a+="</div></div></div></form></div>"})}),require.register("views/templates/search-get-more",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l="",a=n.helperMissing,u=this.escapeExpression;return l+='<a class="list-group-item list-group-item search-results-more"><div class="search-results-more-text">Load more results...</div><div class="search-results-more-loading hide">',s={hash:{},data:i},l+=u((o=n.icon||e.icon,o?o.call(e,"fa-cog fa-spin",s):a.call(e,"icon","fa-cog fa-spin",s)))+"</div></a>"})}),require.register("views/templates/search-result",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l,a="",u=n.helperMissing,c=this.escapeExpression,h="function";return a+='<a class="list-group-item" href="',l={hash:{},data:i},a+=c((o=n.url||e.url,o?o.call(e,"facility#show",e.license_,l):u.call(e,"url","facility#show",e.license_,l)))+'"><div class="media"><div class="pull-left"><i class="fa fa-3x fa-fw ',(s=n.resultIcon)?s=s.call(e,{hash:{},data:i}):(s=e.resultIcon,s=typeof s===h?s.apply(e):s),a+=c(s)+'"></i></div><div class="media-body"><span class="pull-right label label-',(s=n.resultClass)?s=s.call(e,{hash:{},data:i}):(s=e.resultClass,s=typeof s===h?s.apply(e):s),a+=c(s)+'">',(s=n.results)?s=s.call(e,{hash:{},data:i}):(s=e.results,s=typeof s===h?s.apply(e):s),a+=c(s)+'</span><h5 class="media-heading">',(s=n.dba_name)?s=s.call(e,{hash:{},data:i}):(s=e.dba_name,s=typeof s===h?s.apply(e):s),a+=c(s)+"</h5><small>",(s=n.fullAddress)?s=s.call(e,{hash:{},data:i}):(s=e.fullAddress,s=typeof s===h?s.apply(e):s),a+=c(s)+"</small><br /><small>License # ",(s=n.license_)?s=s.call(e,{hash:{},data:i}):(s=e.license_,s=typeof s===h?s.apply(e):s),a+=c(s)+"</small><br /><small>Inspected ",(s=n.friendlyInspectionDate)?s=s.call(e,{hash:{},data:i}):(s=e.friendlyInspectionDate,s=typeof s===h?s.apply(e):s),a+=c(s)+"</small></div></div></a>"})}),require.register("views/templates/search",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l="",a=n.helperMissing,u=this.escapeExpression;return l+='<div class="container search-results"><div class="search-results-loading"><div class="loading-indicator">',s={hash:{},data:i},l+=u((o=n.icon||e.icon,o?o.call(e,"fa-cog fa-spin",s):a.call(e,"icon","fa-cog fa-spin",s)))+'</div><div class="search-results-loading-time-warning text-center text-muted fade">It\'s taking a bit to get data...government database, you know?</div></div><div class="row"><div class="col-sm-8 col-sm-offset-2"><div class="search-details-container"></div><div class="list-group search-results-list"><div class="search-results-more-container"></div></div></div></div><div class="search-results-none"><h1>',s={hash:{},data:i},l+=u((o=n.icon||e.icon,o?o.call(e,"fa-3x fa-warning text-warning",s):a.call(e,"icon","fa-3x fa-warning text-warning",s)))+"</h1><p>No results were found, check the spelling or try a different search.</p><p>Sometimes the database does not allow text search.  Try searching for a zipcode.</p></div></div>"})}),require.register("views/templates/site",function(t,e,n){n.exports=Handlebars.template(function(t,e,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var o,s,l="",a=n.helperMissing,u=this.escapeExpression;return l+='<div class="container"><header><h1 class="logo"><a href="',s={hash:{},data:i},l+=u((o=n.url||e.url,o?o.call(e,"home#show",s):a.call(e,"url","home#show",s)))+'">Chicago Food Inspections</a></h1></header></div><section class="search-field"></section><section class="main-content"></section><footer class="site-footer"><div class="container text-center"><p class="text-muted">Created by ',s={hash:{},data:i},l+=u((o=n.linkTo||e.linkTo,o?o.call(e,"https://github.com/alexraginskiy","Alex Raginskiy",s):a.call(e,"linkTo","https://github.com/alexraginskiy","Alex Raginskiy",s)))+" &sdot; ",s={hash:{},data:i},l+=u((o=n.linkTo||e.linkTo,o?o.call(e,"https://github.com/alexraginskiy/chicago-food-inspections","GitHub Project",s):a.call(e,"linkTo","https://github.com/alexraginskiy/chicago-food-inspections","GitHub Project",s)))+"</p></div></footer>"})});